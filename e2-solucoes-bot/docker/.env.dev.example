# ============================================================================
# E2 Soluções Bot - Environment Variables (DEVELOPMENT)
# ============================================================================
#
# INSTRUÇÕES:
# 1. Copie este arquivo: cp docker/.env.dev.example docker/.env
# 2. Preencha as credenciais OBRIGATÓRIAS para Sprint 1.1
# 3. NUNCA commite docker/.env no git (já está no .gitignore)
#
# ============================================================================

# ============================================================================
# NODE ENVIRONMENT
# ============================================================================
NODE_ENV=development
DEBUG=true
LOG_LEVEL=debug

# ============================================================================
# OpenAI API (OBRIGATÓRIO - Sprint 1.1)
# ============================================================================
# Obter em: https://platform.openai.com/api-keys
# Modelo: text-embedding-3-small (1536 dimensões)
# Custo estimado: $0.10 inicial + $0.01/mês para 1000 queries
OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# Supabase (OBRIGATÓRIO - Sprint 1.1)
# ============================================================================
# Obter em: https://supabase.com/dashboard/project/_/settings/api
#
# IMPORTANTE: Usar Supabase CLOUD (não local) para desenvolvimento
# Motivo: pgvector já configurado, sem necessidade de PostgreSQL local

# URL do projeto Supabase
SUPABASE_URL=https://XXXXXXXXXXXXXXXXXXXX.supabase.co

# Service Role Key (para ingest script - NUNCA expor publicamente)
SUPABASE_SERVICE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Anon Key (para queries públicas)
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# ============================================================================
# n8n Configuration (Development)
# ============================================================================
N8N_HOST=localhost:5678
N8N_PORT=5678
N8N_PROTOCOL=http

# No authentication in development
N8N_BASIC_AUTH_ACTIVE=false

# Webhook URL (development)
WEBHOOK_URL=http://localhost:5678/

# ============================================================================
# Sprint 1.1 Validation Settings
# ============================================================================

# RAG Similarity Threshold (0.0 - 1.0)
RAG_SIMILARITY_THRESHOLD=0.75

# RAG Match Count (quantidade de resultados)
RAG_MATCH_COUNT=5

# ============================================================================
# OPCIONAL: Configurações Futuras (Sprints 1.2+)
# ============================================================================

# Anthropic Claude API (Sprint 1.2)
# ANTHROPIC_API_KEY=sk-ant-XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Evolution API - WhatsApp (Sprint 0.1)
# EVOLUTION_API_URL=http://localhost:8080
# EVOLUTION_API_KEY=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# EVOLUTION_INSTANCE_NAME=e2-solucoes-bot
# DATABASE_PROVIDER=none
# DATABASE_ENABLED=false

# Google Services (Sprint 1.4)
# GOOGLE_SERVICE_ACCOUNT_EMAIL=e2-bot@projeto-XXXXX.iam.gserviceaccount.com
# GOOGLE_SERVICE_ACCOUNT_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nXXXXX\n-----END PRIVATE KEY-----\n"
# GOOGLE_CALENDAR_ID=primary

# RD Station CRM (Sprint 1.5)
# RDSTATION_CLIENT_ID=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# RDSTATION_CLIENT_SECRET=XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Discord Notifications (Sprint 1.3)
# Obter em: Discord > Server Settings > Integrations > Webhooks
# Criar 3 webhooks para diferentes canais de notificação
DISCORD_WEBHOOK_LEADS=https://discord.com/api/webhooks/XXXXXXXXXXXXXXXXXX/XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DISCORD_WEBHOOK_APPOINTMENTS=https://discord.com/api/webhooks/XXXXXXXXXXXXXXXXXX/XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
DISCORD_WEBHOOK_ALERTS=https://discord.com/api/webhooks/XXXXXXXXXXXXXXXXXX/XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX

# Configurações de retry para notificações
NOTIFICATION_RETRY_MAX=3
NOTIFICATION_BATCH_SIZE=10

# Email / SMTP (Sprint 1.7)
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=bot@e2solucoes.com.br
# SMTP_PASSWORD=XXXX XXXX XXXX XXXX
# EMAIL_FROM=E2 Soluções Bot <bot@e2solucoes.com.br>

# ============================================================================
# VALIDAÇÃO RÁPIDA
# ============================================================================
#
# Para validar configuração mínima do Sprint 1.1:
#
# 1. OpenAI API Key configurada?
#    curl https://api.openai.com/v1/models \
#      -H "Authorization: Bearer $OPENAI_API_KEY" | jq .
#
# 2. Supabase conectando?
#    curl "${SUPABASE_URL}/rest/v1/" \
#      -H "apikey: ${SUPABASE_SERVICE_KEY}" | jq .
#
# 3. Todas as credenciais obrigatórias preenchidas?
#    grep -E "^(OPENAI_API_KEY|SUPABASE_URL|SUPABASE_SERVICE_KEY)=" docker/.env | wc -l
#    # Deve retornar: 3
#
# ============================================================================
